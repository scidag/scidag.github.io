



<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="scidag" href="http://example.com/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="scidag" href="http://example.com/atom.xml" />
<link rel="alternate" type="application/json" title="scidag" href="http://example.com/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  

<link rel="canonical" href="http://example.com/2025/07/14/demo3/">



  <title>
spring |
scidag的个人博客 = scidag = litao</title>
<meta name="generator" content="Hexo 7.3.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">spring
  </h1>
  
<div class="meta">
  <span class="item" title="创建时间：2025-07-14 21:47:49">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">发表于</span>
    <time itemprop="dateCreated datePublished" datetime="2025-07-14T21:47:49+08:00">2025-07-14</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="切换导航栏">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">scidag的个人博客</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipexw3o58j20zk0m8e81.jpg"></li>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicliwyw55j20zk0m8hdt.jpg"></li>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclxfdlttj20zk0m8npd.jpg"></li>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicm0n457cj20zk0m8e81.jpg"></li>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipeyhsblkj20zk0m81kx.jpg"></li>
          <li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclh3brzpj20zk0m8ann.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">首页</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="http://example.com/2025/07/14/demo3/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/myavatar.jpg">
    <meta itemprop="name" content="李涛">
    <meta itemprop="description" content="litao, 李涛的个人博客">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="scidag">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h1 id="spring"><a class="markdownIt-Anchor" href="#spring">#</a> Spring</h1>
<p>官网:<span class="exturl" data-url="aHR0cHM6Ly9zcHJpbmcuaW8v">Spring | Home</span></p>
<h3 id="1spring-framework"><a class="markdownIt-Anchor" href="#1spring-framework">#</a> 1.spring Framework</h3>
<ul>
<li>spring 生态圈的最基础的项目，是其他项目的根基。</li>
<li>spring Framework 系统架构
<ul>
<li>​		首先是 Core Container（核心容器）包含了 Beans Core Context  SpEL</li>
<li>​     Date Access/Integration (数据访问 / 集成)  包含 JDBC ORM OXM JMS  Transactions</li>
<li>Web   包含  WebSocket  Servlet  Web  Portlet</li>
<li>AOP  ：面向切面编程</li>
<li>Aspects ：AOP 思想实现</li>
<li>Instrumentation</li>
<li>Messaging</li>
<li>Test</li>
</ul>
</li>
</ul>
<h4 id="11-核心概念"><a class="markdownIt-Anchor" href="#11-核心概念">#</a> 1.1 核心概念</h4>
<h5 id="1iocinversion-of-control控制反转"><a class="markdownIt-Anchor" href="#1iocinversion-of-control控制反转">#</a> 1.IOC（Inversion of Control）控制反转</h5>
<p>​			使用对象时，由主动 new 产生对象转换为由外部提供对象，此过程中对象创建控制权由程序转移到外部，此思想称为控制反转</p>
<p>​			IOC 容器 负责对象的创建、初始化等一系列工作，其中包含了数据层和业务层的类对象<br>
被创建或被管理的对象在 IOC 容器中统称为 Bean<br>
​			IOC 容器中放的就是一个个的 Bean 对象</p>
<h5 id="2didependency-injection依赖注入"><a class="markdownIt-Anchor" href="#2didependency-injection依赖注入">#</a> 2.DI（Dependency Injection）依赖注入</h5>
<p>​			在容器中建立 bean 与 bean 之间的依赖关系的整个过程，称为依赖注入</p>
<h5 id="31和2都是为了充分解耦"><a class="markdownIt-Anchor" href="#31和2都是为了充分解耦">#</a> 3.1 和 2 都是为了充分解耦</h5>
<p>使用 IOC 容器管理 bean（IOC)<br>
 在 IOC 容器内将有依赖关系的 bean 进行关系绑定（DI）<br>
最终结果为：使用对象时不仅可以直接从 IOC 容器中获取，并且获取到的 bean 已经绑定了所有的依赖关系</p>
<p>配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">applicationContext.xml</span><br><span class="line">		 &lt;bean id=&quot;bookdao&quot; class=&quot;com.scidag.dao.impl.BookDaoImpl&quot;/&gt;</span><br><span class="line">        &lt;bean id=&quot;bookservice&quot; class=&quot;com.scidag.service.impl.BookServiceImpl&quot;&gt;</span><br><span class="line">                &lt;property name=&quot;bd&quot; ref=&quot;bookdao&quot;/&gt;</span><br><span class="line">        &lt;/bean&gt;</span><br><span class="line">        </span><br><span class="line">App.java</span><br><span class="line"> //获取ioc容器</span><br><span class="line">        ApplicationContext ac=new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        //BookDao bookdao = (BookDao) ac.getBean(&quot;bookdao&quot;);</span><br><span class="line">        //bookdao.save();</span><br><span class="line">        BookService bookservice = (BookService)ac.getBean(&quot;bookservice&quot;);</span><br><span class="line">        bookservice.outBook();</span><br></pre></td></tr></table></figure>
<h5 id="4bean基础配置"><a class="markdownIt-Anchor" href="#4bean基础配置">#</a> 4.bean 基础配置</h5>
<ul>
<li>
<p>​	基础配置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>bean 起多个名称 name ='name1, name2  name3; name4’中间用，  ’  ‘      ；都可以</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookService&quot;</span> <span class="attr">name</span>=<span class="string">&quot;service service4 bookEbi&quot;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="attr">--</span> <span class="attr">Ebi全称Enterprise</span> <span class="attr">Business</span> <span class="attr">Interface</span>，<span class="attr">翻译为企业业务接口</span>   <span class="attr">--</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>scope 配置</p>
<p>默认值为 singleton</p>
<p>singleton 默认为单例<br>
 prototype 为非单例</p>
</li>
</ul>
<h6 id="41bean-实例化"><a class="markdownIt-Anchor" href="#41bean-实例化">#</a> 4.1bean 实例化</h6>
<p>对象交给 Ioc 容器来创建，实例化 bean 过程</p>
<p>bean 是如何创建的，实例化 bean 的三种方式，构造方法，静态工厂，实例工厂</p>
<ul>
<li>
<p>构造方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">app.java</span><br><span class="line"> ApplicationContext ac=new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        BookDao bookdao = (BookDao) ac.getBean(&quot;bookdao&quot;);</span><br><span class="line">        bookdao.save();</span><br><span class="line">        </span><br><span class="line">ApplicationContext.xml</span><br><span class="line">&lt;bean id=&quot;bookdao&quot; class=&quot;com.scidag.dao.impl.BookDaoImpl&quot;/&gt; </span><br><span class="line">       &lt;bean id=&quot;bookservice&quot; name=&quot;service&quot; class=&quot;com.scidag.service.impl.BookServiceImpl&quot;&gt; </span><br><span class="line">              &lt;property name=&quot;bd&quot; ref=&quot;bookdao&quot;/&gt; </span><br><span class="line">      &lt;/bean&gt;--&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>静态工厂</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> App.java</span><br><span class="line"> ApplicationContext ac=new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">UserDao userdao =(UserDao) ac.getBean(&quot;userdao&quot;);</span><br><span class="line">      userdao.save();</span><br><span class="line">      </span><br><span class="line">ApplicationContext.xml</span><br><span class="line">&lt;bean id=&quot;userdao&quot; class=&quot;com.scidag.factory.UserDaoFactory&quot; factory-method=&quot;getUserDao&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>实例工厂</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext.xml</span><br><span class="line">&lt;bean id=&quot;studao&quot; class=&quot;com.scidag.factory.StuDaoFactory&quot;/&gt; </span><br><span class="line">       &lt;bean id=&quot;stu&quot; factory-bean=&quot;studao&quot; factory-method=&quot;getStu&quot;/&gt; </span><br><span class="line"> app.java</span><br><span class="line">  StuDaoFactory s=new StuDaoFactory();</span><br><span class="line">        StuDao stuDao=s.getStu();</span><br><span class="line">        stuDao.save();</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>FactoryBean</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppForInstanceUser</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ApplicationContext ctx=<span class="keyword">new</span>  <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">        <span class="type">StuDao</span> <span class="variable">stu</span> <span class="operator">=</span> (StuDao) ctx.getBean(<span class="string">&quot;stu&quot;</span>);</span><br><span class="line">        stu.save();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">ApplicationCopntext.xml</span><br><span class="line">  &lt;bean id=<span class="string">&quot;stu&quot;</span> class=<span class="string">&quot;com.scidag.factory.StuDaoFactoryBean&quot;</span>/&gt;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StuDaoFactoryBean</span> <span class="keyword">implements</span> <span class="title class_">FactoryBean</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> StuDao <span class="title function_">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">StuDaoImpl</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        <span class="keyword">return</span> StuDao.class;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h6 id="42bean的生命周期"><a class="markdownIt-Anchor" href="#42bean的生命周期">#</a> 4.2bean 的生命周期</h6>
<h4 id="5di注入"><a class="markdownIt-Anchor" href="#5di注入">#</a> 5.DI 注入</h4>
<p>setter 注入<br>
简单类型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">  &lt;!--    简单类型注入--&gt;</span><br><span class="line">    &lt;bean id=&quot;bookDao&quot; class=&quot;com.scidag.dao.impl.BookDaoImpl&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;dasename&quot; value=&quot;mysql&quot;/&gt;</span><br><span class="line">        &lt;property name=&quot;age&quot; value=&quot;18&quot;/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"> &lt;!--    set注入--&gt;</span><br><span class="line">&lt;!--    &lt;bean id=&quot;bookDao&quot; class=&quot;com.scidag.dao.impl.BookDaoImpl&quot; /&gt;--&gt;</span><br><span class="line">    &lt;bean id=&quot;userDao&quot; class=&quot;com.scidag.dao.impl.UserDaoImpl&quot; /&gt;</span><br><span class="line">    &lt;bean id=&quot;bookservice&quot; class=&quot;com.scidag.service.impl.BookServiceImpl&quot;&gt;</span><br><span class="line">        &lt;property name=&quot;bookDao&quot; ref=&quot;bookDao&quot;/&gt;</span><br><span class="line">        &lt;property name=&quot;userDao&quot; ref=&quot;userDao&quot;/&gt;</span><br><span class="line">      &lt;/bean&gt;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> public class AppForDISet &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext ap=new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">        BookService bookService =(BookService) ap.getBean(&quot;bookservice&quot;);</span><br><span class="line">        bookService.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class BookDaoImpl implements BookDao &#123;</span><br><span class="line">    private String dasename;</span><br><span class="line">    private  int age;</span><br><span class="line"></span><br><span class="line">    public void setDasename(String dasename) &#123;</span><br><span class="line">        this.dasename = dasename;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setAge(int age) &#123;</span><br><span class="line">        this.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(&quot;book dao save&quot;+dasename+age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>​</p>
<p>构造器注入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;bookDao&quot; class=&quot;com.scidag.dao.impl.BookDaoImpl&quot;/&gt;</span><br><span class="line">    &lt;bean id=&quot;bookService&quot; class=&quot;com.scidag.service.impl.BookServiceImpl&quot;&gt;</span><br><span class="line">       &lt;constructor-arg name=&quot;bookDao&quot; ref=&quot;bookDao&quot;/&gt;</span><br><span class="line">     &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class BookServiceImpl implements BookService &#123;</span><br><span class="line">    private BookDao bookDao;</span><br><span class="line"></span><br><span class="line">    public BookServiceImpl(BookDao bookDao) &#123;</span><br><span class="line">        this.bookDao = bookDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(&quot;book service save&quot;);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">     </span><br><span class="line">public class App &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">                ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">                BookService bookService = (BookService) ctx.getBean(&quot;bookService&quot;);</span><br><span class="line">                bookService.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;     </span><br></pre></td></tr></table></figure>
<h5 id="51自动配置"><a class="markdownIt-Anchor" href="#51自动配置">#</a> 5.1 自动配置</h5>
<h6 id="511-自动装配概念"><a class="markdownIt-Anchor" href="#511-自动装配概念">#</a> 5.1.1  自动装配概念</h6>
<p>IoC 容器根据 bean 所依赖的资源在容器中自动查找并注入到 bean 中的过程称为自动装配</p>
<h6 id="512自动装配类型"><a class="markdownIt-Anchor" href="#512自动装配类型">#</a> 5.1.2 自动装配类型</h6>
<ul>
<li>
<p><mark>按类型（常用）</mark> autowire=“byType”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">- 需要注入属性的类中对应属性的setter方法不能省略</span><br><span class="line">- 被注入的对象必须要被Spring的IOC容器管理</span><br><span class="line">- 按照类型在Spring的IOC容器中如果找到多个对象，会报`NoUniqueBeanDefinitionException`</span><br><span class="line"></span><br><span class="line">一个类型在IOC中有多个对象，还想要注入成功，这个时候就需要按照名称注入，配置方式为:</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>按名称 autowire=“byName”</p>
</li>
<li>
<p>按构造方法</p>
</li>
<li>
<p>不启用自动装配</p>
</li>
</ul>
<h6 id="513集合类型注入"><a class="markdownIt-Anchor" href="#513集合类型注入">#</a> 5.1.3 集合类型注入</h6>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.scidag.dao.impl.BookDaoImpl&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;arr&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">value</span>&gt;</span>100<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">value</span>&gt;</span>110<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">value</span>&gt;</span>120<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">value</span>&gt;</span>daishio<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">value</span>&gt;</span>daishiaadao<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">value</span>&gt;</span>daishaaio<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;12&quot;</span> <span class="attr">value</span>=<span class="string">&quot;大苏打&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;11&quot;</span> <span class="attr">value</span>=<span class="string">&quot;苏打&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;14&quot;</span> <span class="attr">value</span>=<span class="string">&quot;大的&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;set&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">value</span>&gt;</span>idss<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">value</span>&gt;</span>idss<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">value</span>&gt;</span>idsas<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;properties&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;1&quot;</span>&gt;</span>oka<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;3&quot;</span>&gt;</span>oa<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;2&quot;</span>&gt;</span>ok<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h6 id="514加载properties文件"><a class="markdownIt-Anchor" href="#514加载properties文件">#</a> 5.1.4 加载 properties 文件</h6>
<ul>
<li>
<p>在 applicationContext.xml 文件中添加 context</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context/spring-context.xsd&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line"><span class="comment">&lt;!--  注 不要删除调原来的bean配置信息  --&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<figure class="highlight xml"><figcaption data-lang="XML"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classpath*:*.properties<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.driver&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.url&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.username&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.password&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bookDao<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.example.dao.impl.BookDaoImpl<span class="token punctuation">"</span></span></pre></td></tr><tr><td data-num="10"></td><td><pre>             <span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre>               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;username&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ```java</span><br><span class="line">  ApplicationContext ctx=new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">   BookDao bookDao = (BookDao) ctx.getBean(&quot;bookDao&quot;);</span><br><span class="line">          bookDao.save();</span><br><span class="line">          </span><br><span class="line">          </span><br><span class="line">  public interface BookDao &#123;</span><br><span class="line">      public void save();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  public class BookDaoImpl implements BookDao &#123;</span><br><span class="line">      private String name;</span><br><span class="line">  </span><br><span class="line">      public void setName(String name) &#123;</span><br><span class="line">          this.name = name;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      public void save() &#123;</span><br><span class="line">          System.out.println(&quot;book dao save ...&quot; + name);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></span></pre></td></tr></table></figure></li>
</ul>
<h4 id="6核心容器"><a class="markdownIt-Anchor" href="#6核心容器">#</a> 6. 核心容器</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line"><span class="comment">//这个容器创建方式是立即加载bean</span></span><br><span class="line"> <span class="type">Resource</span> <span class="variable">resources</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">        <span class="type">BeanFactory</span> <span class="variable">bf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XmlBeanFactory</span>(resources);</span><br><span class="line">        <span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> bf.getBean(BookDao.class);</span><br><span class="line">        bookDao.save();</span><br><span class="line"><span class="comment">//而这个容器创建方式为延迟加载bean</span></span><br></pre></td></tr></table></figure>
<h4 id="7注解式开发"><a class="markdownIt-Anchor" href="#7注解式开发">#</a> 7. 注解式开发</h4>
<h6 id="71使用注解代替bean-的配置"><a class="markdownIt-Anchor" href="#71使用注解代替bean-的配置">#</a> 7.1 使用注解代替<bean> 的配置</h6>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//在BookDaoImpl上添加@Component(&quot;参数&quot;) 这里的参数是可配可不配的</span><br><span class="line">//如果配，在使用时 getbean(&quot;参数&quot;)</span><br><span class="line">//如果不配，在使用时则 getbean (接口名.class)</span><br><span class="line">//在applicationContext.xml 中添加扫描</span><br><span class="line">  &lt;context:component-scan base-package=&quot;com.scidag&quot;/&gt;</span><br><span class="line">  </span><br><span class="line">//对于@Component注解，还衍生出了其他三个注解`@Controller`、`@Service`、`@Repository` ，这几个注解作用是完全一样的，只是为了区分这个类是属于表现层，业务层还是数据层</span><br></pre></td></tr></table></figure>
<h6 id="72纯注解开发"><a class="markdownIt-Anchor" href="#72纯注解开发">#</a> 7.2 纯注解开发</h6>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//取消了applicationContext.xml文件,取而代之的是一个java类</span><br><span class="line">//在这个类上添加注解</span><br><span class="line">@Configuration</span><br><span class="line">@ComponentScan(&quot;com.scidag&quot;)//这个就是相当于xml中的扫描</span><br></pre></td></tr></table></figure>
<h6 id="73注解式依赖注入"><a class="markdownIt-Anchor" href="#73注解式依赖注入">#</a> 7.3 注解式依赖注入</h6>
<table>
<thead>
<tr>
<th>名称</th>
<th>@Scope</th>
</tr>
</thead>
<tbody>
<tr>
<td>类型</td>
<td>类注解</td>
</tr>
<tr>
<td>位置</td>
<td>类定义上方</td>
</tr>
<tr>
<td>作用</td>
<td>设置该类创建对象的作用范围 可用于设置创建出的 bean 是否为单例对象</td>
</tr>
<tr>
<td>属性</td>
<td>value（默认）：定义 bean 作用范围， <mark>默认值 singleton（单例），可选值 prototype（非单例）</mark></td>
</tr>
</tbody>
<tbody>
<tr>
<td>名称</td>
<td>@PostConstruct</td>
</tr>
<tr>
<td>----</td>
<td>----------------------</td>
</tr>
<tr>
<td>类型</td>
<td>方法注解</td>
</tr>
<tr>
<td>位置</td>
<td>方法上</td>
</tr>
<tr>
<td>作用</td>
<td>设置该方法为初始化方法</td>
</tr>
<tr>
<td>属性</td>
<td>无</td>
</tr>
</tbody>
<tbody>
<tr>
<td>名称</td>
<td>@PreDestroy</td>
</tr>
<tr>
<td>----</td>
<td>--------------------</td>
</tr>
<tr>
<td>类型</td>
<td>方法注解</td>
</tr>
<tr>
<td>位置</td>
<td>方法上</td>
</tr>
<tr>
<td>作用</td>
<td>设置该方法为销毁方法</td>
</tr>
<tr>
<td>属性</td>
<td>无</td>
</tr>
</tbody>
</table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">放在参数上</span><br><span class="line">- @Autowired是按照类型注入的，给BookDao的两个实现起了名称，它还是有两个bean对象，为什么不报错?</span><br><span class="line"></span><br><span class="line">- @Autowired默认按照类型自动装配，如果IOC容器中同类的Bean找到多个，就按照变量名和Bean的名称匹配。因为变量名叫`bookDao`而容器中也有一个`booDao`，所以可以成功注入。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">分析下面这种情况是否能完成注入呢?</span><br><span class="line"> @Autowired</span><br><span class="line">    private BookDao bookDao;</span><br><span class="line">@Repository(&quot;bookDao2&quot;)</span><br><span class="line">public class BookDaoImpl2 implements BookDao &#123;    </span><br><span class="line">@Repository(&quot;bookDao1&quot;)</span><br><span class="line">public class BookDaoImpl implements BookDao &#123;    </span><br><span class="line">- 不行，因为按照类型会找到多个bean对象，此时会按照`bookDao`名称去找，因为IOC容器只有名称叫`bookDao1`和`bookDao2`,所以找不到，会报`NoUniqueBeanDefinitionException`</span><br><span class="line"></span><br><span class="line">此时使用@Qualifier(&quot;bookDao1&quot;)</span><br><span class="line">@Qualifier注解后的值就是需要注入的bean的名称。</span><br><span class="line">注意:@Qualifier不能独立使用，必须和@Autowired一起使用</span><br></pre></td></tr></table></figure>
<p>简单数据类型注入 （@Value (“值”)）</p>
<p>读取配置文件</p>
<p>​		在配置类添加注解 @PropertySource (“文件名”)</p>
<p 属性名="">​		在 @Value 中读取配置文件内容，使用 $</p>
<h6 id="74第三方bean管理"><a class="markdownIt-Anchor" href="#74第三方bean管理">#</a> 7.4 第三方 bean 管理</h6>
<p>单独一个 config 类获取的第三方 bean 的方法加注解 @Bean</p>
<p>在 Spring 中引入使用 @Import (config 类.class)</p>
<p><img data-src="C:%5CUsers%5Clx%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1742112887180.png" alt="1742112887180"></p>
<h4 id="8spring整合mybatis"><a class="markdownIt-Anchor" href="#8spring整合mybatis">#</a> 8.Spring 整合 MyBatis</h4>
<ul>
<li>
<p>导入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.21.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>编写 Dao</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Insert(&quot;insert into tbl_account(name,money)values(#&#123;name&#125;,#&#123;money&#125;)&quot;)</span></span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span>;</span><br><span class="line">   <span class="meta">@Delete(&quot;delete from tbl_account where id = #&#123;id&#125; &quot;)</span></span><br><span class="line">   <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line">   <span class="meta">@Update(&quot;update tbl_account set name = #&#123;name&#125; , money = #&#123;money&#125; where id = #&#123;id&#125; &quot;)</span></span><br><span class="line">           <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span>;</span><br><span class="line">   <span class="meta">@Select(&quot;select * from tbl_account&quot;)</span></span><br><span class="line">   List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line">   <span class="meta">@Select(&quot;select * from tbl_account where id = #&#123;id&#125; &quot;)</span></span><br><span class="line">   Account <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>编写 实体类对应数据库中的表，。。。</p>
</li>
<li>
<p>编写 service 的实现类，在里面完成 Dao 类的自动类型装配</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">AccountService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountDao accountDao;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span> &#123;</span><br><span class="line">        accountDao.save(account);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        accountDao.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span> &#123;</span><br><span class="line">        accountDao.update(account);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Account <span class="title function_">findById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findById(id);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>数据源的配置类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span></span><br><span class="line">   <span class="keyword">private</span> String driver;</span><br><span class="line">   <span class="meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class="line">   <span class="keyword">private</span> String url;</span><br><span class="line">   <span class="meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class="line">   <span class="keyword">private</span> String userName;</span><br><span class="line">   <span class="meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class="line">   <span class="keyword">private</span> String password;</span><br><span class="line">   <span class="meta">@Bean</span></span><br><span class="line">   <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">       ds.setDriverClassName(driver);</span><br><span class="line">       ds.setUrl(url);</span><br><span class="line">       ds.setUsername(userName);</span><br><span class="line">       ds.setPassword(password);</span><br><span class="line">       <span class="keyword">return</span> ds;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>mybatis 配置类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">  <span class="keyword">public</span> SqlSessionFactoryBean <span class="title function_">sqlSessionFactoryBean</span><span class="params">(DataSource dataSource)</span>&#123;</span><br><span class="line">      SqlSessionFactoryBean ssfb=<span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBean</span>();</span><br><span class="line">      ssfb.setTypeAliasesPackage(<span class="string">&quot;com.scidag.domain&quot;</span>);</span><br><span class="line">      ssfb.setDataSource(dataSource);</span><br><span class="line">      <span class="keyword">return</span>  ssfb;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Bean</span></span><br><span class="line">  <span class="keyword">public</span> MapperScannerConfigurer <span class="title function_">mapperScannerConfigurer</span><span class="params">()</span>&#123;</span><br><span class="line">      MapperScannerConfigurer msc=<span class="keyword">new</span> <span class="title class_">MapperScannerConfigurer</span>();</span><br><span class="line">      msc.setBasePackage(<span class="string">&quot;com.scidag.dao&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> msc;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>主配置类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span>  <span class="comment">//</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.scidag&quot;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class="line"><span class="meta">@Import(&#123;JdbcConfig.class,MybatisConfig.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>主程序 App.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">AnnotationConfigApplicationContext ac=<span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">       <span class="type">AccountService</span> <span class="variable">bean</span> <span class="operator">=</span> ac.getBean(AccountService.class);</span><br><span class="line">       List&lt;Account&gt; all = bean.findAll();</span><br><span class="line">       all.forEach(account -&gt; System.out.println(account));</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>8.2 整合 junit</p>
<ul>
<li>
<p>依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-test&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;5.2.10.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li>
<pre><code>/设置类运行器
@RunWith(SpringJUnit4ClassRunner.class)
//设置Spring环境对应的配置类
@ContextConfiguration(classes = &#123;SpringConfiguration.class&#125;) //加载配置类
//@ContextConfiguration(locations=&#123;&quot;classpath:applicationContext.xml&quot;&#125;)//加载
配置文件
public class AccountServiceTest &#123;
//支持自动装配注入bean
@Autowired
private AccountService accountService;
@Test
public void testFindById()&#123;
System.out.println(accountService.findById(1));
&#125;
@Test
public void testFindAll()&#123;
System.out.println(accountService.findAll());
&#125;
&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">#### 9.AOP</span><br><span class="line"></span><br><span class="line">##### 9.1概念</span><br><span class="line"></span><br><span class="line">- 什么是AOP</span><br><span class="line"></span><br><span class="line">  AOP(Aspect Oriented Programming)面向切面编程，一种编程范式，指导开发者如何组织程序结构。</span><br><span class="line">  OOP(Object Oriented Programming)面向对象编程</span><br><span class="line"></span><br><span class="line">- AOP作用</span><br><span class="line"></span><br><span class="line">  作用:在不惊动原始设计的基础上为其进行功能增强，前面咱们有技术就可以实现这样的功能即代理模式</span><br><span class="line"></span><br><span class="line">- 其他</span><br><span class="line"></span><br><span class="line">  **连接点(JoinPoint)**：程序执行过程中的任意位置，粒度为执行方法、抛出异常、设置变量等</span><br><span class="line">  在SpringAOP中，理解为方法的执行</span><br><span class="line"></span><br><span class="line">  **切入点(Pointcut)**:匹配连接点的式子</span><br><span class="line">  在SpringAOP中，一个切入点可以描述一个具体方法，也可也匹配多个方法</span><br><span class="line">  一个具体的方法:如com.itheima.dao包下的BookDao接口中的无形参无返回值的save方法</span><br><span class="line">  匹配多个方法:所有的save方法，所有的get开头的方法，所有以Dao结尾的接口中的任意方法，所有带有一个参数的方法</span><br><span class="line">  连接点范围要比切入点范围大，是切入点的方法也一定是连接点，但是是连接点的方法就不一定要被增强，所以可能不是切入点。</span><br><span class="line">  **通知(Advice)**:在切入点处执行的操作，也就是共性功能</span><br><span class="line"></span><br><span class="line">  在SpringAOP中，功能最终以方法的形式呈现</span><br><span class="line">  **通知类**：定义通知的类</span><br><span class="line">  **切面(Aspect)**:描述通知与切入点的对应关系。</span><br><span class="line"></span><br><span class="line">##### 9.2案例</span><br><span class="line"></span><br><span class="line">1. 导入坐标</span><br><span class="line"></span><br><span class="line">   ```xml</span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">           &lt;dependency&gt;</span><br><span class="line">               &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">               &lt;artifactId&gt;spring-context&lt;/artifactId&gt;</span><br><span class="line">               &lt;version&gt;5.3.21&lt;/version&gt;</span><br><span class="line">           &lt;/dependency&gt;</span><br><span class="line">           &lt;dependency&gt;</span><br><span class="line">               &lt;groupId&gt;org.aspectj&lt;/groupId&gt;</span><br><span class="line">               &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;</span><br><span class="line">               &lt;version&gt;1.9.4&lt;/version&gt;</span><br><span class="line">           &lt;/dependency&gt;</span><br><span class="line">       &lt;/dependencies&gt;</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
<ol start="2">
<li>
<p>编写通知类</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Component  //定义bean</span><br><span class="line">@Aspect		//定义当前类为AOP切面类</span><br><span class="line">public class MyAdvice &#123;</span><br><span class="line">    @Pointcut(&quot;execution(void com.scidag.dao.BookDao.update())&quot;) //定义切入点方法</span><br><span class="line">    private void pt()&#123;&#125;</span><br><span class="line">    @Before(&quot;pt()&quot;)    //绑定当前通知方法与切入点的关系</span><br><span class="line">    public  void method()&#123;</span><br><span class="line">        System.out.println(System.currentTimeMillis());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Configuration  //定义为配置类</span><br><span class="line">@ComponentScan(&quot;com.scidag&quot;)  //扫描</span><br><span class="line">@EnableAspectJAutoProxy    //开启注解格式AOP功能</span><br><span class="line">public class SpringConfig &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="93工作流程"><a class="markdownIt-Anchor" href="#93工作流程">#</a> 9.3 工作流程</h5>
<p>流程 1:Spring 容器启动<br>
容器启动就需要去加载 bean, 哪些类需要被加载呢？<br>
 需要被增强的类，如：BookServiceImpl<br>
 通知类，如：MyAdvice<br>
 注意此时 bean 对象还没有创建成功<br>
流程 2: 读取所有切面配置中的切入点</p>
<p>流程 3: 初始化 bean，<br>
判定 bean 对应的类中的方法是否匹配到任意切入点<br>
注意第 1 步在容器启动的时候，bean 对象还没有被创建成功。<br>
要被实例化 bean 对象的类中的方法和切入点进行匹配</p>
<p>​			匹配失败，创建原始对象，如 UserDao<br>
​			匹配失败说明不需要增强，直接调用原始对象的方法即可。<br>
​			匹配成功，创建原始对象（目标对象）的代理对象，如: BookDao<br>
​			匹配成功说明需要对其进行增强<br>
​			对哪个类做增强，这个类对应的对象就叫做目标对象<br>
​			因为要对目标对象进行功能增强，而采用的技术是动态代理，所以会为其创建一个代理对象<br>
​			最终运行的是代理对象的方法，在该方法中会对原始方法进行功能增强<br>
流程 4: 获取 bean 执行方法<br>
​		获取的 bean 是原始对象时，调用方法并执行，完成操作<br>
​		获取的 bean 是代理对象时，根据代理对象的运行模式运行原始方法与增强的内容，完成操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">目标对象(Target)：原始功能去掉共性功能对应的类产生的对象，这种对象是无法直接完成最终</span><br><span class="line">工作的</span><br><span class="line">代理(Proxy)：目标对象无法直接完成工作，需要对其进行功能回填，通过原始对象的代理对象实</span><br><span class="line">现</span><br></pre></td></tr></table></figure>
<h5 id="94aop配置管理"><a class="markdownIt-Anchor" href="#94aop配置管理">#</a> 9.4AOP 配置管理</h5>
<h6 id="941aop切入点表达式"><a class="markdownIt-Anchor" href="#941aop切入点表达式">#</a> 9.4.1AOP 切入点表达式</h6>
<p>​	语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">描述方式一：执行com.itheima.dao包下的BookDao接口中的无参数update方法</span><br><span class="line"></span><br><span class="line">execution(void com.itheima.dao.BookDao.update())</span><br><span class="line">描述方式二：执行com.itheima.dao.impl包下的BookDaoImpl类中的无参数update方法</span><br><span class="line">execution(void com.itheima.dao.impl.BookDaoImpl.update())</span><br><span class="line"></span><br><span class="line">因为调用接口方法的时候最终运行的还是其实现类的方法，所以上面两种描述方式都是可以的。</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">execution：动作关键字，描述切入点的行为动作，例如execution表示执行到指定切入点</span><br><span class="line">public:访问修饰符,还可以是public，private等，可以省略</span><br><span class="line">User：返回值，写返回值类型</span><br><span class="line">com.itheima.service：包名，多级包使用点连接</span><br><span class="line">UserService:类/接口名称</span><br><span class="line">findById：方法名</span><br><span class="line">int:参数，直接写参数的类型，多个类型用逗号隔开</span><br><span class="line">异常名：方法定义中抛出指定异常，可以省略</span><br></pre></td></tr></table></figure>
<p>通配符</p>
<p>*: 单个独立的任意符号，可以独立出现，也可以作为前缀或者后缀的匹配符出现</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">execution（public * com.itheima.*.UserService.find*(*))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>匹配 com.itheima 包下的任意包中的 UserService 类或接口中所有 find 开头的带有一个参数的方法</p>
<p>… ：多个连续的任意符号，可以独立出现，常用于简化包名与参数的书写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">execution（public User com..UserService.findById(..))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>匹配 com 包下的任意包中的 UserService 类或接口中所有名称为 findById 的方法</p>
<p>+：专用于匹配子类类型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">execution(* *..*Service+.*(..))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这个使用率较低，描述子类的，咱们做 JavaEE 开发，继承机会就一次，使用都很慎重，所以很少用它。*Service+，表示所有以 Service 结尾的接口的子类。<br>
书写技巧</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">所有代码按照标准规范开发，否则以下技巧全部失效</span><br><span class="line">描述切入点通常描述接口，而不描述实现类,如果描述到实现类，就出现紧耦合了</span><br><span class="line">访问控制修饰符针对接口开发均采用public描述（可省略访问控制修饰符描述）</span><br><span class="line">返回值类型对于增删改类使用精准类型加速匹配，对于查询类使用*通配快速描述</span><br><span class="line">包名书写尽量不使用..匹配，效率过低，常用*做单个包描述匹配，或精准匹配</span><br><span class="line">接口名/类名书写名称与模块相关的采用*匹配，例如UserService书写成*Service，绑定业务</span><br><span class="line">层接口名</span><br><span class="line">方法名书写以动词进行精准匹配，名词采用匹配，例如getById书写成getBy,selectAll书写成</span><br><span class="line">selectAll</span><br><span class="line">参数规则较为复杂，根据业务方法灵活调整</span><br><span class="line">通常不使用异常作为匹配规则</span><br></pre></td></tr></table></figure>
<h6 id="942aop通知类型"><a class="markdownIt-Anchor" href="#942aop通知类型">#</a> 9.4.2AOP 通知类型</h6>
<p>(1) 前置通知，追加功能到方法执行前，类似于在代码 1 或者代码 2 添加内容<br>
 (2) 后置通知，追加功能到方法执行后，不管方法执行的过程中有没有抛出异常都会执行，类似于在代码 5 添加内容<br>
 (3) 返回后通知，追加功能到方法执行后，只有方法正常执行结束后才进行，类似于在代码 3 添加内容，如果方法执行抛出异常，返回后通知将不会被添加<br>
 (4) 抛出异常后通知，追加功能到方法抛出异常后，只有方法执行出异常才进行，类似于在代码 4 添加内容，只有方法抛出异常后才会被添加<br>
 (5) 环绕通知，环绕通知功能比较强大，它可以追加功能到方法执行的前后，这也是比较常用的方式，<br>
知识点 1：@After</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>@After</th>
</tr>
</thead>
<tbody>
<tr>
<td>类型</td>
<td>方法注解</td>
</tr>
<tr>
<td>位置</td>
<td>通知方法定义上方</td>
</tr>
<tr>
<td>作用</td>
<td>设置当前通知方法与切入点之间的绑定关系，当前通知方法在原始切入点方法后运行</td>
</tr>
</tbody>
</table>
<h6 id="知识点2afterreturning"><a class="markdownIt-Anchor" href="#知识点2afterreturning">#</a> 知识点 2：@AfterReturning</h6>
<table>
<thead>
<tr>
<th>名称</th>
<th>@AfterReturning</th>
</tr>
</thead>
<tbody>
<tr>
<td>类型</td>
<td>方法注解</td>
</tr>
<tr>
<td>位置</td>
<td>通知方法定义上方</td>
</tr>
<tr>
<td>作用</td>
<td>设置当前通知方法与切入点之间绑定关系，当前通知方法在原始切入点方法正常执行完毕后执行</td>
</tr>
</tbody>
</table>
<h6 id="知识点3afterthrowing"><a class="markdownIt-Anchor" href="#知识点3afterthrowing">#</a> 知识点 3：@AfterThrowing</h6>
<table>
<thead>
<tr>
<th>名称</th>
<th>@AfterThrowing</th>
</tr>
</thead>
<tbody>
<tr>
<td>类型</td>
<td>方法注解</td>
</tr>
<tr>
<td>位置</td>
<td>通知方法定义上方</td>
</tr>
<tr>
<td>作用</td>
<td>设置当前通知方法与切入点之间绑定关系，当前通知方法在原始切入点方法运行抛出异常后执行</td>
</tr>
</tbody>
</table>
<h6 id="知识点4around"><a class="markdownIt-Anchor" href="#知识点4around">#</a> 知识点 4：@Around</h6>
<table>
<thead>
<tr>
<th>名称</th>
<th>@Around</th>
</tr>
</thead>
<tbody>
<tr>
<td>类型</td>
<td>方法注解</td>
</tr>
<tr>
<td>位置</td>
<td>通知方法定义上方</td>
</tr>
<tr>
<td>作用</td>
<td>设置当前通知方法与切入点之间的绑定关系，当前通知方法在原始切入点方法前后运行</td>
</tr>
</tbody>
</table>
<p><mark><strong>环绕通知注意事项</strong></mark></p>
<ol>
<li>环绕通知必须依赖形参 ProceedingJoinPoint 才能实现对原始方法的调用，进而实现原始方法调用前后同时添加通知</li>
<li>通知中如果未使用 ProceedingJoinPoint 对原始方法进行调用将跳过原始方法的执行</li>
<li>对原始方法的调用可以不接收返回值，通知方法设置成 void 即可，如果接收返回值，最好设定为 Object 类型</li>
<li>原始方法的返回值如果是 void 类型，通知方法的返回值类型可以设置成 void, 也可以设置成 Object</li>
<li>由于无法预知原始方法运行后是否会抛出异常，因此环绕通知方法必须要处理 Throwable 异常</li>
</ol>
<p>Object [] getArgs ();// 获取原始方法的参数</p>
<h5 id="95aop事务"><a class="markdownIt-Anchor" href="#95aop事务">#</a> 9.5AOP 事务</h5>
<p>事务作用：在数据层保障一系列的数据库操作同成功同失败<br>
 Spring 事务作用：在数据层或业务层保障一系列的数据库操作同成功同失败</p>
<p><strong><mark>关于在 Spring 中启动事务</mark></strong> **</p>
<ol>
<li>启动注解 @Transactional，建议在接口方法中</li>
<li>在配置类中 ，创建 @Bean   PlatformTransactionManager  // 这个是 jdbc 中的</li>
<li>SpringConfig 中开启事务注解 @EnableTransactionManagement</li>
</ol>
<h6 id="951事务属性"><a class="markdownIt-Anchor" href="#951事务属性">#</a> 9.5.1 事务属性</h6>
<p>​</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">readOnly：true只读事务，false读写事务，增删改要设为false,查询设为true。</span><br><span class="line"></span><br><span class="line">timeout:设置超时时间单位秒，在多长时间之内事务没有提交成功就自动回滚，-1表示不设置超</span><br><span class="line">时时间。</span><br><span class="line">rollbackFor:当出现指定异常进行事务回滚</span><br><span class="line">noRollbackFor:当出现指定异常不进行事务回滚</span><br><span class="line">思考:出现异常事务会自动回滚，这个是我们之前就已经知道的</span><br><span class="line">noRollbackFor是设定对于指定的异常不回滚 </span><br><span class="line">rollbackFor是指定回滚异常</span><br><span class="line">rollbackForClassName等同于rollbackFor,只不过属性为异常的类全名字符串</span><br><span class="line">noRollbackForClassName等同于noRollbackFor，只不过属性为异常的类全名字符串</span><br><span class="line">isolation设置事务的隔离级别</span><br><span class="line">DEFAULT :默认隔离级别, 会采用数据库的隔离级别</span><br><span class="line">READ_UNCOMMITTED : 读未提交</span><br><span class="line">READ_COMMITTED : 读已提交</span><br><span class="line">REPEATABLE_READ : 重复读取</span><br><span class="line">SERIALIZABLE: 串行化</span><br><span class="line"></span><br><span class="line">以上属性可以在@Transactional注解的参数上进行设置</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h6 id=""><a class="markdownIt-Anchor" href="#">#</a> </h6>

  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">更新于</span>
    <time title="修改时间：2025-07-14 21:54:33" itemprop="dateModified" datetime="2025-07-14T21:54:33+08:00">2025-07-14</time>
  </span>
  <span id="2025/07/14/demo3/" class="item leancloud_visitors" data-flag-title="spring" title="阅读次数">
      <span class="icon">
        <i class="ic i-eye"></i>
      </span>
      <span class="text">阅读次数</span>
      <span class="leancloud-visitors-count"></span>
      <span class="text">次</span>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> 赞赏</button>
  <p>请我喝[茶]~(￣▽￣)~*</p>
  <div id="qr">
      
      <div>
        <img data-src="/images/wxpay.jpg" alt="李涛 微信支付">
        <p>微信支付</p>
      </div>
      
      <div>
        <img data-src="/images/zifubao.jpg" alt="李涛 支付宝">
        <p>支付宝</p>
      </div>
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>本文作者： </strong>李涛 <i class="ic i-at"><em>@</em></i>scidag
  </li>
  <li class="link">
    <strong>本文链接：</strong>
    <a href="http://example.com/2025/07/14/demo3/" title="spring">http://example.com/2025/07/14/demo3/</a>
  </li>
  <li class="license">
    <strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2025/07/14/demo2/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclffsa1cj20zk0m811l.jpg" title="Mybatis">
  <span class="type">上一篇</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>Mybatis</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2025/07/14/demo4/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipexoj0moj20zk0m8kgu.jpg" title="spring mvc">
  <span class="type">下一篇</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>spring mvc</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="文章目录">
          <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#spring"><span class="toc-number">1.</span> <span class="toc-text"> Spring</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1spring-framework"><span class="toc-number">1.0.1.</span> <span class="toc-text"> 1.spring Framework</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#11-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-number">1.0.1.1.</span> <span class="toc-text"> 1.1 核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1iocinversion-of-control%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC"><span class="toc-number">1.0.1.1.1.</span> <span class="toc-text"> 1.IOC（Inversion of Control）控制反转</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2didependency-injection%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">1.0.1.1.2.</span> <span class="toc-text"> 2.DI（Dependency Injection）依赖注入</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#31%E5%92%8C2%E9%83%BD%E6%98%AF%E4%B8%BA%E4%BA%86%E5%85%85%E5%88%86%E8%A7%A3%E8%80%A6"><span class="toc-number">1.0.1.1.3.</span> <span class="toc-text"> 3.1 和 2 都是为了充分解耦</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4bean%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE"><span class="toc-number">1.0.1.1.4.</span> <span class="toc-text"> 4.bean 基础配置</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#41bean-%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-number">1.0.1.1.4.1.</span> <span class="toc-text"> 4.1bean 实例化</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#42bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.0.1.1.4.2.</span> <span class="toc-text"> 4.2bean 的生命周期</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5di%E6%B3%A8%E5%85%A5"><span class="toc-number">1.0.1.2.</span> <span class="toc-text"> 5.DI 注入</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#51%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">1.0.1.2.1.</span> <span class="toc-text"> 5.1 自动配置</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#511-%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E6%A6%82%E5%BF%B5"><span class="toc-number">1.0.1.2.1.1.</span> <span class="toc-text"> 5.1.1  自动装配概念</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#512%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.0.1.2.1.2.</span> <span class="toc-text"> 5.1.2 自动装配类型</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#513%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E6%B3%A8%E5%85%A5"><span class="toc-number">1.0.1.2.1.3.</span> <span class="toc-text"> 5.1.3 集合类型注入</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#514%E5%8A%A0%E8%BD%BDproperties%E6%96%87%E4%BB%B6"><span class="toc-number">1.0.1.2.1.4.</span> <span class="toc-text"> 5.1.4 加载 properties 文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E6%A0%B8%E5%BF%83%E5%AE%B9%E5%99%A8"><span class="toc-number">1.0.1.3.</span> <span class="toc-text"> 6. 核心容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7%E6%B3%A8%E8%A7%A3%E5%BC%8F%E5%BC%80%E5%8F%91"><span class="toc-number">1.0.1.4.</span> <span class="toc-text"> 7. 注解式开发</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#71%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E4%BB%A3%E6%9B%BFbean-%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">1.0.1.4.0.1.</span> <span class="toc-text"> 7.1 使用注解代替 的配置</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#72%E7%BA%AF%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91"><span class="toc-number">1.0.1.4.0.2.</span> <span class="toc-text"> 7.2 纯注解开发</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#73%E6%B3%A8%E8%A7%A3%E5%BC%8F%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">1.0.1.4.0.3.</span> <span class="toc-text"> 7.3 注解式依赖注入</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#74%E7%AC%AC%E4%B8%89%E6%96%B9bean%E7%AE%A1%E7%90%86"><span class="toc-number">1.0.1.4.0.4.</span> <span class="toc-text"> 7.4 第三方 bean 管理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8spring%E6%95%B4%E5%90%88mybatis"><span class="toc-number">1.0.1.5.</span> <span class="toc-text"> 8.Spring 整合 MyBatis</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#93%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-number">1.0.1.5.1.</span> <span class="toc-text"> 9.3 工作流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#94aop%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86"><span class="toc-number">1.0.1.5.2.</span> <span class="toc-text"> 9.4AOP 配置管理</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#941aop%E5%88%87%E5%85%A5%E7%82%B9%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.0.1.5.2.1.</span> <span class="toc-text"> 9.4.1AOP 切入点表达式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#942aop%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.0.1.5.2.2.</span> <span class="toc-text"> 9.4.2AOP 通知类型</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B92afterreturning"><span class="toc-number">1.0.1.5.2.3.</span> <span class="toc-text"> 知识点 2：@AfterReturning</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B93afterthrowing"><span class="toc-number">1.0.1.5.2.4.</span> <span class="toc-text"> 知识点 3：@AfterThrowing</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B94around"><span class="toc-number">1.0.1.5.2.5.</span> <span class="toc-text"> 知识点 4：@Around</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#95aop%E4%BA%8B%E5%8A%A1"><span class="toc-number">1.0.1.5.3.</span> <span class="toc-text"> 9.5AOP 事务</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#951%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">1.0.1.5.3.1.</span> <span class="toc-text"> 9.5.1 事务属性</span></a></li><li class="toc-item toc-level-6"><a class="toc-link"><span class="toc-number">1.0.1.5.3.2.</span> <span class="toc-text"> </span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li></ol>
      </div>
      <div class="related panel pjax" data-title="系列文章">
      </div>
      <div class="overview panel" data-title="站点概览">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="李涛"
      data-src="/images/myavatar.jpg">
  <p class="name" itemprop="name">李涛</p>
  <div class="description" itemprop="description">李涛的个人博客</div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">6</span>
        <span class="name">文章</span>
      </a>
    </div>
</nav>

<div class="social">
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>首页</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2025/07/14/demo2/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2025/07/14/demo4/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>随机文章</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2025/07/14/demo4/" title="spring mvc">spring mvc</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2025/07/14/hello-world/" title="Hello World">Hello World</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2025/07/14/demo2/" title="Mybatis">Mybatis</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2025/07/14/test1/" title="maven">maven</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2025/07/14/demo3/" title="spring">spring</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2025/07/14/demo1/" title="jdbc">jdbc</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>最新评论</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">李涛 @ scidag的个人博客</span>
  </div>
  <div class="powered-by">
    基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2025/07/14/demo3/',
    favicon: {
      show: "（●´3｀●）やれやれだぜ",
      hide: "(´Д｀)大変だ！"
    },
    search : {
      placeholder: "文章搜索",
      empty: "关于 「 ${query} 」，什么也没搜到",
      stats: "${time} ms 内找到 ${hits} 条结果"
    },
    valine: true,fancybox: true,
    copyright: '复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
